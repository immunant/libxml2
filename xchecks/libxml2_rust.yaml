---
- file: "src/*.rs"
  # Some C structures included in every file
  items:
      - item: struct
        name: _xmlParserCtxt
        fields:
            inputTab: disabled
            nodeTab: disabled

      # Node fields outside common part
      - item: struct
        name: _xmlDoc
        fields:
            intSubset: disabled
            extSubset: disabled
            oldNs: disabled
            version: disabled
            encoding: disabled
            ids: disabled
            refs: disabled
            URL: disabled
            dict: disabled
            psvi: disabled

      - item: struct
        name: _xmlDtd
        fields:
            notations: disabled
            elements: disabled
            attributes: disabled
            entities: disabled
            ExternalID: disabled
            SystemID: disabled
            pentities: disabled

      - item: struct
        name: _xmlNode
        fields:
            ns: disabled
            content: disabled
            properties: disabled
            nsDef: disabled
            psvi: disabled

- file: "src/xmlsave.rs"
  items:
      - item: struct
        name: _xmlSaveCtxt
        fields:
            indent: disabled

      - item: struct
        name: _xmlDoc
        fields:
            intSubset: disabled
            extSubset: disabled
            oldNs: disabled
            version: disabled
            encoding: disabled
            ids: disabled
            refs: disabled
            URL: disabled
            dict: disabled
            psvi: disabled

      - item: struct
        name: _xmlDtd
        fields:
            notations: disabled
            elements: disabled
            attributes: disabled
            entities: disabled
            ExternalID: disabled
            SystemID: disabled
            pentities: disabled

      - item: struct
        name: _xmlNode
        fields:
            ns: disabled
            content: disabled
            properties: disabled
            nsDef: disabled
            psvi: disabled

- file: "src/debugXML.rs"
  items:
      - item: struct
        name: _xmlDebugCtxt
        fields:
            shift: disabled

      - item: struct
        name: _xmlDoc
        fields:
            intSubset: disabled
            extSubset: disabled
            oldNs: disabled
            version: disabled
            encoding: disabled
            ids: disabled
            refs: disabled
            URL: disabled
            dict: disabled
            psvi: disabled

      - item: struct
        name: _xmlDtd
        fields:
            notations: disabled
            elements: disabled
            attributes: disabled
            entities: disabled
            ExternalID: disabled
            SystemID: disabled
            pentities: disabled

      - item: struct
        name: _xmlNode
        fields:
            ns: disabled
            content: disabled
            properties: disabled
            nsDef: disabled
            psvi: disabled

- file: "src/nanoftp.rs"
  items:
      - item: struct
        name: sockaddr_storage
        fields:
            __ss_padding: disabled

      - item: struct
        name: _xmlDoc
        fields:
            intSubset: disabled
            extSubset: disabled
            oldNs: disabled
            version: disabled
            encoding: disabled
            ids: disabled
            refs: disabled
            URL: disabled
            dict: disabled
            psvi: disabled

      - item: struct
        name: _xmlDtd
        fields:
            notations: disabled
            elements: disabled
            attributes: disabled
            entities: disabled
            ExternalID: disabled
            SystemID: disabled
            pentities: disabled

      - item: struct
        name: _xmlNode
        fields:
            ns: disabled
            content: disabled
            properties: disabled
            nsDef: disabled
            psvi: disabled

- file: "src/variadic.rs"
  items:
      - item: struct
        name: sockaddr_storage
        fields:
            __ss_padding: disabled

      - item: struct
        name: _xmlParserCtxt
        fields:
            inputTab: disabled
            nodeTab: disabled

      - item: struct
        name: _xmlDoc
        fields:
            intSubset: disabled
            extSubset: disabled
            oldNs: disabled
            version: disabled
            encoding: disabled
            ids: disabled
            refs: disabled
            URL: disabled
            dict: disabled
            psvi: disabled

      - item: struct
        name: _xmlDtd
        fields:
            notations: disabled
            elements: disabled
            attributes: disabled
            entities: disabled
            ExternalID: disabled
            SystemID: disabled
            pentities: disabled

      - item: struct
        name: _xmlNode
        fields:
            ns: disabled
            content: disabled
            properties: disabled
            nsDef: disabled
            psvi: disabled

- file: "src/dict.rs"
  items:
      # _xmlDict::strings has pointers to uninitialized data
      - item: struct
        name: _xmlDict
        fields:
            strings: disabled

- file: "src/xmlschemastypes.rs"
  items:
      - item: struct
        name: _xmlSchemaValDate
        #custom_hash: "0xABCD0003u64"

      - item: struct
        name: _xmlSchemaValDecimal
        #custom_hash: "0xABCD0004u64"

      - item: struct
        name: _xmlDoc
        fields:
            intSubset: disabled
            extSubset: disabled
            oldNs: disabled
            version: disabled
            encoding: disabled
            ids: disabled
            refs: disabled
            URL: disabled
            dict: disabled
            psvi: disabled

      - item: struct
        name: _xmlDtd
        fields:
            notations: disabled
            elements: disabled
            attributes: disabled
            entities: disabled
            ExternalID: disabled
            SystemID: disabled
            pentities: disabled

      - item: struct
        name: _xmlNode
        fields:
            ns: disabled
            content: disabled
            properties: disabled
            nsDef: disabled
            psvi: disabled

- file: "src/parser.rs"
  items:
      # Functions that return values in xmlChar** parameters
      - item: function
        name: xmlParseStringCharRef
        all_args: disabled

      - item: function
        name: xmlSplitQName
        all_args: disabled

      - item: function
        name: xmlParseEntityValue
        all_args: disabled

      - item: function
        name: xmlParseExternalID
        all_args: disabled

      - item: function
        name: xmlParseDefaultDecl
        all_args: disabled

      - item: function
        name: xmlParseStringEntityRef
        all_args: disabled

      - item: function
        name: xmlParseStringPEReference
        all_args: disabled

      - item: function
        name: xmlParseAttribute
        all_args: disabled

      - item: function
        name: xmlParseQName
        all_args: disabled

      - item: function
        name: xmlParseAttribute2
        all_args: disabled

      - item: function
        name: xmlParseStartTag2
        all_args: disabled

      - item: function
        name: xmlParseGetLasts
        all_args: disabled

      - item: struct
        name: _xmlParserCtxt
        fields:
            inputTab: disabled
            nodeTab: disabled

      - item: struct
        name: _xmlDoc
        fields:
            intSubset: disabled
            extSubset: disabled
            oldNs: disabled
            version: disabled
            encoding: disabled
            ids: disabled
            refs: disabled
            URL: disabled
            dict: disabled
            psvi: disabled

      - item: struct
        name: _xmlDtd
        fields:
            notations: disabled
            elements: disabled
            attributes: disabled
            entities: disabled
            ExternalID: disabled
            SystemID: disabled
            pentities: disabled

      - item: struct
        name: _xmlNode
        fields:
            ns: disabled
            content: disabled
            properties: disabled
            nsDef: disabled
            psvi: disabled

# Disable cross-checks on run_static_initializers
- file: "src/chvalid.rs"
  items:
      - item: function
        name: run_static_initializers
        disable_xchecks: true

- file: "src/HTMLparser.rs"
  items:
      - item: function
        name: run_static_initializers
        disable_xchecks: true

      - item: struct
        name: _xmlParserCtxt
        fields:
            inputTab: disabled
            nodeTab: disabled

      - item: struct
        name: _xmlDoc
        fields:
            intSubset: disabled
            extSubset: disabled
            oldNs: disabled
            version: disabled
            encoding: disabled
            ids: disabled
            refs: disabled
            URL: disabled
            dict: disabled
            psvi: disabled

      - item: struct
        name: _xmlDtd
        fields:
            notations: disabled
            elements: disabled
            attributes: disabled
            entities: disabled
            ExternalID: disabled
            SystemID: disabled
            pentities: disabled

      - item: struct
        name: _xmlNode
        fields:
            ns: disabled
            content: disabled
            properties: disabled
            nsDef: disabled
            psvi: disabled

- file: "src/xmlunicode.rs"
  items:
      - item: function
        name: run_static_initializers
        disable_xchecks: true

# Examples
- file: "examples/runtest.rs"
  items:
      - item: function
        name: main
        disable_xchecks: true

      - item: function
        name: main_0
        entry: { djb2: "main" }
        exit: { djb2: "main" }

      - item: function
        name: run_static_initializers
        disable_xchecks: true

- file: "examples/*.rs"
  priority: -1
  items:
      - item: function
        name: main
        disable_xchecks: true

      - item: function
        name: main_0
        entry: { djb2: "main" }
        exit: { djb2: "main" }

# TODO: all the exceptions from libxml2_c.yaml
...

